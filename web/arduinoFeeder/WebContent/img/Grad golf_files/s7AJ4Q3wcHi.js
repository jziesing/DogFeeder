/*!CK:139356075!*//*1401679117,178198827*/

if (self.CavalryLogger) { CavalryLogger.start_js(["+\/iIz"]); }

__d("admanager_render_error_div",["DeprecatedCSSMiscellany","DOM"],function(a,b,c,d,e,f,g,h){function i(j,k){if(k&&k.length){var l=h.create('ul');for(var m=0;m<k.length;m++)l.appendChild(h.create('li',{},k[m]));h.setContent(j,l);g.show(j);}}e.exports=i;},null);
__d("admanager_update_transaction_history_view",["AsyncRequest","BakerAction","DeprecatedCSSMiscellany","$","admanager_render_error_div"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m,n,o){new h(m,'input;ads:manage:billing;toggleMonth').log();var p=function(r){i.hide('inv_spin');var s=r.getPayload();if(s.err){k(j('global_error_div'),s.err);}else j('transaction_table').innerHTML=s.r;},q=function(r){i.hide('inv_spin');var s=r.getPayload();k(j('global_error_div'),s.err);};i.show('inv_spin');new g().setURI('/ads/ajax/billing.php').setData({act:m,ts:n,payment_option:o}).setHandler(p).setErrorHandler(q).send();}e.exports=l;},null);
__d("legacy:admanagerUpdateTransactionHistoryView",["admanager_update_transaction_history_view"],function(a,b,c,d){a.admanager_update_transaction_history_view=b('admanager_update_transaction_history_view');},3);
__d("XZipGeneratorControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/ads\/manage\/zip_generator\/",{ts:{type:"Int",required:true},act:{type:"Int",required:true},payment_option:{type:"Int"}});},null);
__d("admanager_download_report_zip",["XZipGeneratorControllerURIBuilder","Event"],function(a,b,c,d,e,f,g,h){function i(j,k,l,m){h.listen(j,'click',function(){var n=new g().setInt('ts',k.value).setInt('payment_option',l.value).setInt('act',m).getURI();window.location.href=n;});}e.exports.attach_onclick=i;},null);
__d("AdsManagerLogger",["Banzai"],function(a,b,c,d,e,f,g){f.log=function(h){g.post('adsmanager',h);};},null);
__d("BakerActionRegistry",["BakerAction","Event"],function(a,b,c,d,e,f,g,h){function i(j){"use strict";this.numToLog={};this.numLogged={};this.accountId=j;}i.prototype.register=function(j,k,l,m){"use strict";if(!j)return;this.numToLog[m]=l;this.numLogged[m]=0;h.listen(j,k,this._logWithLimit.bind(this,m));};i.prototype._logWithLimit=function(j){"use strict";if(this.numLogged[j]>=this.numToLog[j])return;this.numLogged[j]++;this.log(j);};i.prototype.log=function(j){"use strict";new g(this.accountId,j).log();};e.exports=i;},null);
__d("legacy:bakers-growth-js",["BakerAction","BakerActionRegistry"],function(a,b,c,d){a.BakerAction=b('BakerAction');a.BakerActionRegistry=b('BakerActionRegistry');},3);
__d("AdManagerHeaderMessaging",["Arbiter","CSS","DOM","$","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m,n,o){"use strict";this._containerId=m;this._statusMessage=n;this._errors=o;this.init();}l.prototype.init=function(){"use strict";g.subscribe(l.ARBITER_STATUS_MESSAGE,function(m,n){this.setStatusMessage(n);}.bind(this));g.subscribe(l.ARBITER_ERROR_MESSAGE,function(m,n){if('string'===(typeof n))n=[n];this.setErrors(n);}.bind(this));this.refreshErrors();this.refreshStatus();};l.prototype.refreshUI=function(){"use strict";this.refreshErrors();this.refreshStatus();};l.prototype.find=function(m){"use strict";return i.find(j(this._containerId),m);};l.prototype.setErrors=function(m){"use strict";this._errors=m;this.refreshUI();};l.prototype.addError=function(m){"use strict";this._errors.push(m);this.refreshUI();};l.prototype.setError=function(m){"use strict";this._errors=[m];this.refreshUI();};l.prototype.clearErrors=function(){"use strict";this._errors=[];this.refreshUI();};l.prototype.clearStatusMessage=function(){"use strict";this._statusMessage='';this.refreshUI();};l.prototype.setStatusMessage=function(m){"use strict";this._statusMessage=m;this.refreshUI();};l.prototype.getErrorsDivContent=function(){"use strict";var m,n=i.create('ul');for(m=0;m<this._errors.length;m++)n.appendChild(i.create('li',{},this._errors[m]));return n;};l.prototype.refreshErrors=function(){"use strict";var m=this.find('div.global_errors');if(this._errors.length===0){h.hide(m);}else{i.setContent(this.find('div.global_errors'),this.getErrorsDivContent());h.show(m);}};l.prototype.refreshStatus=function(){"use strict";var m=i.scry(j(this._containerId),'div#standard_status')[0];if(m&&this._statusMessage&&this._statusMessage!==''){i.setContent(m,this._statusMessage);h.show(m);}};k(l,{ARBITER_ERROR_MESSAGE:'UIAdmgrHeaderMessaging/error_message',ARBITER_STATUS_MESSAGE:'UIAdmgrHeaderMessaging/status_message'});e.exports=l;},null);
__d("AdsDetailsModuleItem",["Event"],function(a,b,c,d,e,f,g){var h={listen:function(i,j){g.listen(i,'click',j.show.bind(j));}};e.exports=h;},null);
__d("Datepicker",["Event","ArbiterMixin","CalendarUtils","CSS","DOM","Keys","Parent","copyProperties","formatDate"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=[],q={EARLIEST:-1,LATEST:1},r={order:['m','d','y'],separator:'/'};function s(t,u,v,w,x,y,z,aa){this.root=t[0];this.calendar=t[1];this.popover=u;this.timestamp=new Date(v);this.groupName=w;this.limit=x;this.setEarliestDate(y[0]);this.setLatestDate(y[1]);this.offset=z[0];this.i18nFormat=z[1];this.usePhpDateFormat=aa;this.phpDateFormat=aa?this.i18nFormat.order.join(this.i18nFormat.separator):null;this.calendarDate=new Date(v);this.hiddenField=k.find(this.root,'input.hiddenField');this.textField=k.find(this.root,'input.textField');p.push(this);this.timestamp.setHours(0,0,0,0);this.earliestDate&&this.earliestDate.setHours(0,0,0,0);this.latestDate&&this.latestDate.setHours(0,0,0,0);if(this.popover){this.popover.subscribe('show',this.refreshCalendar.bind(this));g.listen(this.calendar,'click',this.calendarClick.bind(this));g.listen(this.textField,'keydown',this.inputKeyDown.bind(this));g.listen(this.textField,'keyup',this.inputKeyUp.bind(this));this.dayTable=k.find(this.calendar,'tbody.dayTable');}}n(s.prototype,h,{draw:function(){this.calendarDate.setDate(1);var t=1,u=(this.calendarDate.getDay()+this.offset)%7,v=new Date(this.calendarDate.getFullYear(),this.calendarDate.getMonth()+1,0).getDate();k.setContent(k.find(this.calendar,'.monthTitle'),o(this.calendarDate,'F Y'));k.empty(this.dayTable);while(t<=v){var w=k.create('tr');for(var x=0;x<7&&t<=v;++x){var y=k.create('td');if(u){y.setAttribute('colSpan',u);x=u-1;u=0;}else{this.calendarDate.setDate(t);if(!this.isInvalidDate(this.calendarDate)){j.addClass(y,'dayCell');if(this.calendarDate.getTime()==this.timestamp.getTime())j.addClass(y,'selected');}k.setContent(y,t++);}w.appendChild(y);}this.dayTable.appendChild(w);}},isInvalidDate:function(t){return (this.earliestDate&&this.earliestDate>t)||(this.latestDate&&this.latestDate<t);},getDate:function(){return this.hiddenField.value;},getDateObj:function(){var t=this.usePhpDateFormat?this.i18nFormat:r;return i.stringToDate(this.getDate(),t.order);},setEarliestDate:function(t){this.earliestDate=t?new Date(t):null;},setLatestDate:function(t){this.latestDate=t?new Date(t):null;},setDate:function(t,u){if(this.isInvalidDate(t))return false;this.timestamp=t;if(u)if(this.usePhpDateFormat){this.textField.value=o(t,this.phpDateFormat);}else this.textField.value=i.dateToString(t,this.i18nFormat);if(this.usePhpDateFormat){this.hiddenField.value=o(t,this.phpDateFormat,{skipPatternLocalization:true});}else this.hiddenField.value=i.dateToString(t,r);if(this.groupName)for(var v=0;v<p.length;++v){var w=p[v];if(w.root!=this.root&&w.groupName==this.groupName)if((this.limit==q.EARLIEST&&w.timestamp<this.timestamp)||(this.limit==q.LATEST&&w.timestamp>this.timestamp)||(w.limit==q.EARLIEST&&w.timestamp>this.timestamp)||(w.limit==q.LATEST&&w.timestamp<this.timestamp)){w.textField.value=this.textField.value;w.hiddenField.value=this.hiddenField.value;w.timestamp.setTime(t.getTime());}}this.inform('date-set');},getElement:function(){return this.root;},calendarClick:function(t){var u=t.getTarget();if(m.byClass(u,'prevMonth')){this.calendarDate.setMonth(this.calendarDate.getMonth()-1,1);this.draw();}else if(m.byClass(u,'nextMonth')){this.calendarDate.setMonth(this.calendarDate.getMonth()+1,1);this.draw();}else if(j.hasClass(u,'dayCell')){this.setDate(new Date(this.calendarDate.getFullYear(),this.calendarDate.getMonth(),k.getText(u)),true);this.popover.hideLayer();}t.kill();},refreshCalendar:function(){if(this.root.disabled&&this.popover.isShown()){this.popover.hideLayer();return;}this.calendarDate.setTime(this.timestamp.getTime());this.draw();},inputKeyDown:function(t){if(g.getKeyCode(t)==l.TAB&&this.popover.isShown()){this.popover.hideLayer();return true;}},inputKeyUp:function(t){var u=g.getKeyCode(t);if(u==l.ESC||u==l.RETURN){this.popover.hideLayer();return true;}var v=i.stringToDate(this.textField.value,this.i18nFormat.order);if(v===false)return true;this.setDate(v,false);this.refreshCalendar();this.popover.showLayer();}});e.exports=s;},null);
__d("view/ads/applications/adsmanager/constants",[],function(a,b,c,d,e,f){f.AdsManagerConstants={AVAILABLE_DISPLAY_VIEWS:['reporting','audienceManager'],DEFAULT_DISPLAY_VIEW:'reporting'};},null);
__d("TimeDataSource",["DataSource","TokenizeUtil"],function(a,b,c,d,e,f,g,h){for(var i in g)if(g.hasOwnProperty(i))k[i]=g[i];var j=g===null?null:g.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=g;function k(){"use strict";if(g!==null)g.apply(this,arguments);}k.prototype.mergeUids=function(l,m,n,o){"use strict";var p=h.parse(o).tokens,q=function(r,s){var t=this.getEntry(r),u=this.getEntry(s),v=t.text.indexOf(p[0])===0,w=u.text.indexOf(p[0])===0;if(v&&w)return t.index-u.index;if(v||w)return v?-1:1;return t.index-u.index;}.bind(this);return l.sort(q).concat(m,n);};e.exports=k;},null);