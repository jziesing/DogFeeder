/*!CK:2528948411!*//*1401682467,178134563*/

if (self.CavalryLogger) { CavalryLogger.start_js(["31Ovu"]); }

__d("AdsCFApiSpecFields",[],function(a,b,c,d,e,f){e.exports={ACCOUNT_FIELDS:["id","account_id","age","business_country_code","capabilities","currency","daily_spend_limit","funding_source","funding_source_details","moo_default_conversion_bid","min_daily_budget","name","account_status","timezone_id","timezone_offset_hours_utc","tos_accepted","users","user_role","spend_cap","amount_spent","offsite_pixels_tos_accepted"],USER_PAGE_FIELDS:["id","name","global_brand_page_name","category","link","picture","likes","is_published","is_verified","userpermissions.fields(user,business,business_persona)"]};},null);
__d("adsGKCheck",["AdsCreationConfig","invariant"],function(a,b,c,d,e,f,g){function h(j){return !!g.gk[j];}function i(j,k){g.gk[j]=k;}h.overrideGK=i;e.exports=h;},null);
__d("StickyArea.react",["React","StickyArea","cx"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'StickyArea',componentDidMount:function(){this._stickyArea=new h(this.getDOMNode(),true,this.props.offset||0);},componentDidUpdate:function(k){if(this.props.offset!==k.offset)this._stickyArea.setOffset(this.props.offset);h.reflow();},componentWillUnmount:function(){this._stickyArea.destroy();this._stickyArea=null;},render:function(){return this.transferPropsTo(g.DOM.div({className:"_k",ref:"root"},this.props.children));}});e.exports=j;},null);
__d("XUIButtonGroup.react",["React","ReactChildren","ReactPropTypes","cx","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:'XUIButtonGroup',propTypes:{isOverlay:i.bool},render:function(){this.validateButtonSize();var m=(("_51xa")+(this.props.isOverlay?' '+"_51xb":''));return this.transferPropsTo(g.DOM.div({className:m},this.props.children));},validateButtonSize:function(){if(!this.props.isOverlay){var m;h.forEach(this.props.children,function(n){if(n){var o=n.type.getButtonSize(n.props);if(!m){m=o;}else k(o===m);}});}}});e.exports=l;},null);
__d("XUICalendar.react",["DateFormatConfig","List.react","ReactPropTypes","React","cx","emptyFunction","keyOf"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=7,o=6,p="_5hpv clearfix",q=m({start:null}),r=m({mid:null}),s=m({end:null}),t=m({only:null}),u=j.createClass({displayName:'XUICalendar',propTypes:{interactive:i.bool,dateRestraints:i.array,focusTime:i.number.isRequired,selectTime:i.number,rangeSelectTime:i.number,highlightedTimes:i.array,allowVariableRowCount:i.bool,onSelectDateChange:i.instanceOf(Function).isRequired},getDefaultProps:function(){return {interactive:true,rangeSelectTime:null,allowVariableRowCount:true};},selectDate:function(w){if(this.isDateValid(w)&&!this.isDateSelected(w))this.props.onSelectDateChange(w);},_areSameDate:function(w,x){return (w&&x&&w instanceof Date&&x instanceof Date&&u.normalizeDate(w).getTime()===u.normalizeDate(x).getTime());},isDateSelected:function(w){return this._areSameDate(w,new Date(this.props.selectTime));},isDateHighlighted:function(w){return this.props.highlightedTimes&&this.props.highlightedTimes.some(function(x){return this._areSameDate(w,new Date(x));}.bind(this));},isDateValid:function(w){if(this.props.dateRestraints)return this.props.dateRestraints.every(function(x){return x(w);});return true;},render:function(){var w=new Date(this.props.focusTime),x=u.normalizeDate(w);x.setUTCDate(1);var y=g.weekStart,z=this.props.selectTime,aa=null,ba=null;if(this.props.rangeSelectTime!==null)aa=u.normalizeDate(new Date(this.props.rangeSelectTime)).getTime();if(z&&aa){var ca=Math.min(z,aa),da=Math.max(z,aa);ba={minTime:ca,maxTime:da,hasDuration:ca<da};}var ea=[],fa=[],ga=((x.getUTCDay()+6-y)%7);for(var ha=0;ha<ga;++ha)fa.push(j.DOM.span({key:ha,className:"_5c68"}));var ia=this.props.interactive?this.selectDate:l;while(x.getUTCMonth()==w.getUTCMonth()){var ja=x.getTime(),ka=new Date(ja);x.setUTCDate(x.getUTCDate()+1);var la=x.getUTCMonth()>ka.getUTCMonth(),ma=(fa.length+1)%7,na=ma==1||ka.getUTCDate()==1,oa=ma===0||la,pa=null,qa=null;if(ba){if(ja>ba.minTime&&ja<ba.maxTime){pa=r;}else if(ja==ba.minTime){pa=q;}else if(ja==ba.maxTime)pa=s;if(!ba.hasDuration){qa=t;}else if(oa){qa=na||pa==q?t:s;}else if(na){qa=pa==s?t:q;}else qa=r;}fa.push(v({key:ka,date:ka,onSelect:ia,valid:this.isDateValid(ka),selected:this.isDateSelected(ka),highlighted:this.isDateHighlighted(ka),rangePosition:pa,rowPosition:qa}));if(oa){ea.push(fa);fa=[];}}if(fa.length)ea.push(fa);if(!this.props.allowVariableRowCount)for(var ra=ea.length;ra<o;++ra)ea.push(j.DOM.span({className:"_5c68"}));ea=ea.map(function(ua,va){return j.DOM.div({key:va,className:p},ua);});var sa=[];for(var ta=0;ta<n;++ta)sa.push(j.DOM.li({key:ta,className:"_5c69"},g.shortDayNames[(y+ta)%7]));return this.transferPropsTo(j.DOM.div({className:(("_5c6a")+(this.props.interactive?' '+"_5hpw":''))},h({className:"_5c6g _50f8",direction:"horizontal",border:"none",spacing:"none"},sa),j.DOM.div({className:"_5c6h clearfix"},ea)));}});u.normalizeDate=function(w){return new Date(Date.UTC(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()));};var v=j.createClass({displayName:'Day',propTypes:{date:i.instanceOf(Date).isRequired,onSelect:i.func.isRequired,valid:i.bool,selected:i.bool,highlighted:i.bool,rowPosition:i.oneOf([q,r,s,t]),rangePosition:i.oneOf([q,r,s])},render:function(){var w=this.props,x=w.rowPosition,y=w.rangePosition,z=y==q||(y==r&&x==q),aa=y==s||(y==r&&x==s),ba=x==t,ca=y==q||y==s,da=(("_5c66")+(w.valid?' '+"_5hpx":'')+(y?' '+"_5hpy":'')+(z?' '+"_5hpz":'')+(aa?' '+"_5hp-":'')+(ba?' '+"_5hp_":'')+(ca?' '+"_5hq0":'')),ea=(("_5hq1")+(w.selected?' '+"_5hq2":'')+(w.highlighted?' '+"_5xur":''));return this.transferPropsTo(j.DOM.a({className:da,href:"#",onClick:this._onSelect},j.DOM.span({className:ea},this.props.date.getUTCDate())));},_onSelect:function(){if(!this.props.valid)return false;this.props.onSelect(this.props.date);}});e.exports=u;},null);
__d("XUIMonthPagerCalendar.react",["ReactPropTypes","React","Image.react","UTCUtils","XUICalendar.react","cx","fbt","formatDate","ix","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=h.createClass({displayName:'XUIMonthPagerCalendar',propTypes:{dateRestraints:g.array,focusTime:g.number.isRequired,selectTime:g.number,allowVariableRowCount:g.bool,highlightedTimes:g.array,onFocusDateChange:g.instanceOf(Function).isRequired,onSelectDateChange:g.instanceOf(Function).isRequired},pageByMonthDelta:function(r){var s=new Date(this.props.focusTime);s.setUTCMonth(s.getUTCMonth()+r);this.props.onFocusDateChange(s);},onPagerPrev:function(){this.pageByMonthDelta(-1);},onPagerNext:function(){this.pageByMonthDelta(1);},render:function(){var r=this.props,s=j.dateToUTCDate(new Date(r.focusTime)),t=p._("{month} {year}",{month:n(s,'F',{skipPatternLocalization:true}),year:s.getUTCFullYear()});return this.transferPropsTo(h.DOM.div({className:"_5hpp"},h.DOM.div({className:"_5hpq"},h.DOM.h2({className:"_5hpr _c24"},t),h.DOM.button({className:"_5hps _5hpt",onClick:this.onPagerPrev},i({src:o('/images/ui/x/glyphs/dark/triangle-left_s.png'),alt:"Previous month"})),h.DOM.button({className:"_5hps _5hpu",onClick:this.onPagerNext},i({src:o('/images/ui/x/glyphs/dark/triangle-right_s.png'),alt:"Next month"}))),k({dateRestraints:r.dateRestraints,focusTime:r.focusTime,selectTime:r.selectTime,highlightedTimes:r.highlightedTimes,allowVariableRowCount:r.allowVariableRowCount,onFocusDateChange:r.onFocusDateChange,onSelectDateChange:r.onSelectDateChange})));}});e.exports=q;},null);
__d("DatePickerRestraints",[],function(a,b,c,d,e,f){var g={enforceDateIsEarlierThan:function(h){return function(i){return i.getTime()<h.getTime();};},enforceDateIsNoEarlierThan:function(h){return function(i){return i.getTime()>=h.getTime();};},enforceDateIsLaterThan:function(h){return function(i){return i.getTime()>h.getTime();};},enforceDateIsNoLaterThan:function(h){return function(i){return i.getTime()<=h.getTime();};},isValidDate:function(h,i){var j=h instanceof Date&&!isNaN(h.getTime());if(j&&i)return i.every(function(k){return k(h);});return j;}};e.exports=g;},null);
__d("CalendarUtils",[],function(a,b,c,d,e,f){function g(i,j,k,l){var m=[],n=l.order;for(var o=0;o<3;++o)if(n[o]==='d'){m.push(i);}else if(n[o]==='m'){m.push(j);}else m.push(k);return m.join(l.separator);}var h={placeholderDateString:function(i){return g('dd','mm','yyyy',i);},dateToString:function(i,j){return g(i.getDate(),i.getMonth()+1,i.getFullYear(),j);},stringToDate:function(i,j){var k,l,m,n=i.split(/[/.,\s-]+/);if(n.length<3)return false;for(var o=0;o<3;++o){var p=n.shift();if(j[o]==='d'){k=parseInt(p,10);if(isNaN(k)||k<1)return false;}else if(j[o]==='m'){l=parseInt(p,10)-1;if(isNaN(l)||l<0||l>11)return false;}else{m=parseInt(p,10);if(m<100&&m>=0&&p.length==2){var q=(new Date()).getFullYear();if(Math.abs(q/100-m)>=2){var r=m+Math.floor(q/100)*100;m=r>q+4?r-100:r;}}if(isNaN(m)||m<1000)return false;}}if(new Date(m,l+1,0).getDate()<k)return false;return new Date(m,l,k);}};e.exports=h;},null);
__d("XUIDatePicker.react",["CalendarUtils","ContextualLayer.react","DateFormatConfig","DatePickerRestraints","InputSelection","Keys","ReactPropTypes","React","ReactDOMInput","Image.react","ReactLayeredComponentMixin","Toggler","UTCUtils","XUICard.react","XUICalendar.react","XUIMonthPagerCalendar.react","cx","emptyFunction","invariant","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa={order:i.numericDateOrder,separator:i.numericDateSeparator};function ba(ia){var ja=new Date();if(ia){ja.setTime(ia);}else{var ka=s.dateToUTC(ja);ja.setTime(ka);}return u.normalizeDate(ja);}function ca(ia){return g.dateToString(s.dateToUTCDate(ia),aa);}function da(ia){var ja=ia.match(/^\d{4}-\d{2}-\d{2}$/);y(ja);var ka=Date.parse(ia);y(ka);return ka;}function ea(ia){y(!ia.initialDate||!ia.initialTime);return ia.initialDate?da(ia.initialDate):ia.initialTime;}function fa(ia,ja){if(!ia&&!ja)return null;var ka=ba(ia);return ca(ka);}function ga(ia){var ja=/[1-9]{1}[0-9]*/g,ka,la={},ma=0;while(ka=ja.exec(ia)){la[aa.order[ma]]=ka;ma++;}return la;}var ha=n.createClass({displayName:'XUIDatePicker',mixins:[q],propTypes:{name:m.string,initialDate:m.string,initialTime:m.number,shouldSetDefaultDate:m.bool,earliestDate:m.number,latestDate:m.number,dateRestraints:m.array,highlightedTimes:m.array,onCalendarSelectDateChange:m.func,onInvalidDateSelected:m.func,onDateRemoved:m.func},getDefaultProps:function(){return {shouldSetDefaultDate:true,onCalendarSelectDateChange:x,onInvalidDateSelected:x,onDateRemoved:x};},togglerSub:null,getInitialState:function(){var ia=ea(this.props),ja=ba(ia),ka=fa(ia,this.props.shouldSetDefaultDate);return {calendarFocusDate:ja,calendarSelectDate:this.props.shouldSetDefaultDate||ia?ja:null,inputValue:ka,showLayer:false};},componentWillReceiveProps:function(ia){var ja=ea(ia),ka=ba(ja),la=fa(ja,ia.shouldSetDefaultDate);this.setState({calendarFocusDate:ka,calendarSelectDate:this.props.shouldSetDefaultDate||ja?ka:null,inputValue:la});},componentWillUnmount:function(){this.removeSubscriptions();},removeSubscriptions:function(){this.togglerSub&&this.togglerSub.unsubscribe();this.togglerSub=null;},renderLayers:function(){if(!this.state.showLayer)return {};var ia=this.state.calendarSelectDate?this.state.calendarSelectDate.getTime():null;return {layer:h({contextRef:"inputBox",position:"below",offsetY:3,shown:this.state.showLayer},t({className:"_5c6i"},v({highlightedTimes:this.props.highlightedTimes,dateRestraints:this._getDateRestraintsFromProps(this.props),focusTime:this.state.calendarFocusDate.getTime(),selectTime:ia,onFocusDateChange:this.onCalendarFocusDateChange,onSelectDateChange:this.onCalendarSelectDateChange})))};},onCalendarFocusDateChange:function(ia){this.setState({calendarFocusDate:ia});},onCalendarSelectDateChange:function(ia){this.setState({calendarSelectDate:ia,inputValue:ca(ia)});r.hide(this.getDOMNode());this.props.onCalendarSelectDateChange(ia);},onIconClick:function(){this.refs.inputBox.getDOMNode().focus();},onTogglerShowOrHide:function(ia,ja){if(ja.active===this.getDOMNode())if(ia=='show'){this.setState({showLayer:true});}else{this.removeSubscriptions();this.setState({showLayer:false});}},onInputFocus:function(){this.removeSubscriptions();this.togglerSub=r.subscribe(['show','hide'],this.onTogglerShowOrHide);r.show(this.getDOMNode());},onInputKeyDown:function(event){var ia=event.keyCode;if(ia==l.UP||ia==l.DOWN){event.preventDefault();var ja=ia==l.UP?1:-1,ka=event.target,la=k.get(ka),ma=ga(ka.value),na=new Date(this.state.calendarSelectDate);for(var oa in ma){var pa=ma[oa],qa=pa.index+pa[0].length;if(la.start>=pa.index&&la.start<=qa){switch(oa){case 'm':na.setMonth(na.getMonth()+ja);break;case 'd':na.setDate(na.getDate()+ja);break;case 'y':na.setFullYear(na.getFullYear()+ja);break;}break;}}if(j.isValidDate(na,this._getDateRestraintsFromProps(this.props))){this.setState({calendarSelectDate:na,inputValue:ca(na)},function(){var ra=ga(ka.value)[oa];k.set(ka,ra.index,ra.index+ra[0].length);});this.props.onCalendarSelectDateChange(na);}}},onInputKeyUp:function(event){var ia=event.keyCode;if(ia==l.UP||ia==l.DOWN)event.preventDefault();if(ia==l.ESC||ia==l.RETURN){r.hide(this.getDOMNode());return;}},onInputChange:function(event){var ia=event.target.value;if(!ia){this.props.onDateRemoved();return;}var ja=g.stringToDate(ia,aa.order),ka=false;if(ja){ka=j.isValidDate(ja,this._getDateRestraintsFromProps(this.props));var la=new Date(s.dateToUTC(ja));if(ka){this.setState({calendarFocusDate:la,calendarSelectDate:la,inputValue:ia});this.props.onCalendarSelectDateChange(la);}else this.props.onInvalidDateSelected(la);}if(!ja||!ka)this.setState({inputValue:ia,calendarSelectDate:null});},_getDateRestraintsFromProps:function(ia){if(ia.dateRestraints)return ia.dateRestraints;var ja=[];if(ia.earliestDate)ja.push(j.enforceDateIsNoEarlierThan(new Date(ia.earliestDate*1000)));if(ia.latestDate)ja.push(j.enforceDateIsNoLaterThan(new Date(ia.latestDate*1000)));return ja;},render:function(){var ia=this.state.calendarSelectDate,ja=ia?s.dateToUTCDate(ia).getTime():'';return this.transferPropsTo(n.DOM.span({className:"_5c6j"},p({className:"_5qcy",onClick:this.onIconClick,src:z('/images/calendar/calendar_icon.png')}),o({ref:"inputBox",className:"_5qcz",type:"text",placeholder:g.placeholderDateString(aa),value:this.state.inputValue,onFocus:this.onInputFocus,onKeyDown:this.onInputKeyDown,onKeyUp:this.onInputKeyUp,onChange:this.onInputChange}),n.DOM.input({type:"hidden",name:this.props.name,value:ja})));}});e.exports=ha;},null);